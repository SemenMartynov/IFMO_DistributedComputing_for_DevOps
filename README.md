# IFMO_DistributedComputing_for_DevOps

## Требования к системе
На системе, с котрой производится запуск плейбука, должен быть установлен ansible, python. 
<br>
<br>
При тестировании использовалась хостовая система: ```Ubuntu 24.04.1 LTS```
<br>
Система, на которой выполнялся деплой приложения: ```Ubuntu 24.04.1 LTS```
<br>
<br>

## Запуск плейбука

Перед запуском плейбука необходимо в директории ```deploy/group_vars/all.yml``` задать переменную ```remote_host```, в которой указывается удаленный или локальный хост
<br>
<br>
Плейбук можно выполнять на локальном устройстве или на удаленной ВМ. Для запуска плейбука для деплоя на удаленной ВМ необходимо указать пользователя, IP удаленной ВМ и приватный ключ.
<br>
Пример:

```
ansible-playbook -i "89.169.158.113," -u user --private-key=/private_key deploy/deploy.yml
```
После деплоя приложение будет доступно на заданном хосте по порту ```8081```
Prometheus доступен на заданном хосте по порту ```9090```, Grafana по порту ```3000```.
После завершения деплоя необходимо подождать 3-5 минут чтобы Grafana стала доступной, после этого можно авторизоваться по данным ```admin/admin```. 
После входа в Grafana метрики доступны в разделе Dashboards (отдельно метрики MySql и caDvisor - данные по каждому контейнеру)
